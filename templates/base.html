{% import 'macros.html' as macros %}
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <link href="http://gmpg.org/xfn/11" rel="profile" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />

    <title>
      {% block title %}{{ page.title | default(value="Home") }}{% endblock title %} &#183; {{ config.title }}
    </title>

    <link
      rel="stylesheet"
      href="{{ get_url(path='style.css', cachebust=true) }}"
    />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300&family=Lato:wght@300&display=swap"
    />

    <link rel="shortcut icon" href="{{ get_url(path='images/favicon.ico',
    cachebust=true) }}" <link rel="apple-touch-icon" sizes="48x48" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=48, height=48, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="72x72" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=72, height=72, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="96x96" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=96, height=96, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="144x144" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=144, height=144, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="192x192" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=192, height=192, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="256x256" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=256, height=256, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="384x384" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=384, height=384, op="fill") }}" /> <link rel="apple-touch-icon"
    sizes="512x512" href="{{
    resize_image(path="../static/images/apple-touch-icon-precomposed.png",
    width=512, height=512, op="fill") }}" />

    <!-- seo tags -->
    {% set author = config.extra.author | default(value='Anonymous') %} {% if
    page.title %} {% set title = page.title %} {% elif section.title %} {% set
    title = section.title %} {% else %} {% set title = "Home" %} {% endif %} {%
    if page.description %} {% set description = page.description %} {% elif
    page.summary %} {% set description = page.summary %} {% elif
    section.description %} {% set description = section.description %} {% else
    %} {% set description = config.description %} {% endif %} {% if
    page.permalink %} {% set canonical_url = page.permalink %} {% elif
    section.permalink %} {% set canonical_url = section.permalink %} {% else %}
    {% set canonical_url = config.base_url %} {% endif %}

    <meta name="author" content="{{ author }}" />
    <meta
      name="generator"
      content="{{ config.extra.generator | default(value='Zola') }}"
    />
    <meta property="og:site_name" content="{{ config.title }}" />

    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />

    {% if config.extra.twitter %}
    <meta name="twitter:creator" content="{{ config.extra.twitter }}" />
    <meta name="twitter:site" content="{{ config.extra.twitter }}" />
    {% endif %}

    <meta property="og:title" content="{{ title }}" />
    <meta property="twitter:title" content="{{ title }}" />

    <meta name="description" content="{{ description }}" />
    <meta name="og:description" content="{{ description }}" />
    <meta name="twitter:description" content="{{ description }}" />

    <link rel="canonical" href="{{ canonical_url }}" />
    <meta property="og:url" content="{{ canonical_url }}" />

    <!-- Matomo -->
    <script type="text/javascript">
      var _paq = (window._paq = window._paq || []);
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(["setCookieDomain", "*.www.nihilistkitten.me"]);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//matomo.nihilistkitten.me/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.type = "text/javascript";
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script>
    <!-- End Matomo Code -->

  </head>
  <body class="light-theme">
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" />

    <div class="sidebar" id="sidebar">
      <div class="sidebar-item">
        <label class="switch" title="Toggle Darkmode" float="left" style="vertical-align: middle;">
          <input id="darkmode-slider" type="checkbox" />
          <a
            class="slider"
            onclick="toggleDarkMode()"
            id="darkmode-slider-actual"
          ></a>
        </label>
        <a
          class="button circle-button"
          title="Mail Me!"
          rel="author"
          id="mail-button"
          href="mailto:riley.shahar@gmail.com"
          style="vertical-align: middle;"
        ></a>
        <a
          class="button circle-button"
          title="My Github"
          rel="author"
          id="github-button"
          href="https://github.com/nihilistkitten"
          style="vertical-align: middle;"
        ></a>
      </div>

      <div class="sidebar-item">
        <p>{{ config.description }}</p>
        <p>The quote in the header is from the 11th doctor, if you care.</p>
      </div>

      <nav class="sidebar-nav">
        <a class="sidebar-nav-item" href="{{ config.base_url }}" >Home</a>
        <a class="sidebar-nav-item" href="{{ get_url(path="tags") }}" >Tags</a>
      </nav>


      <div class="sidebar-item" style="font-size: 0.75em;">
        <p>
          Built with <a href="https://www.getzola.org/">Zola</a>. Style from
          <a href="https://lanyon.getpoole.com">Lanyon</a>. The source for this
          blog is available on
          <a href="https://github.com/nihilistkitten/blog">GitHub</a>.
        </p>
        <p>
          &copy; 2021 Riley Shahar. This work is licensed under a
          <a
            rel="license"
            href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
            style="color: inherit;"
            >Creative Commons Attribution-NonCommercial-ShareAlike 4.0
            International License</a
          >. Any code samples are licensed under the
          <a
            rel="license"
            href="https://opensource.org/licenses/MIT"
            style="color: inherit;"
            >MIT License</a
          >
          unless otherwise stated.
        </p>
      </div>
    </div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="{{ config.base_url }}/" title="Home">{{ config.title }}</a>
            <small>we're all stories in the end; just make it a good one</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        {% block content %} {% endblock %}
      </div>
    </div>

    <label title="Toggle Sidebar" for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="{{ get_url(path='js/sidebar.js', cachebust=true) }}"></script>
  </body>
</html>
